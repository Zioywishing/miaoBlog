(function(){"use strict";var at=Object.defineProperty,Ee=r=>{throw TypeError(r)},ut=(r,e,t)=>e in r?at(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ot=(r,e,t)=>ut(r,e+"",t),ct=(r,e,t)=>e.has(r)||Ee("Cannot "+t),Q=(r,e,t)=>(ct(r,e,"read from private field"),t?t.call(r):e.get(r)),Oe=(r,e,t)=>e.has(r)?Ee("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t);function Ie(r,e){const t=e,n=new Uint8Array(t);let i=0;for(const a of r)n.set(a,i),i+=a.length;return n}const he=new WeakMap,W=r=>{if(r instanceof Uint8Array)return r.length;{if(he.has(r))return he.get(r);const e=r.reduce((t,n)=>t+W(n),0);return he.set(r,e),e}},Pe=(r,e)=>{e=e||1;const t=[];for(;r>0||e>0;)t.unshift(r&255),r=r>>8,e--;return new Uint8Array(t)};function xt(r){const e=new ArrayBuffer(8);return new DataView(e).setFloat64(0,r,!0),new Uint8Array(Array.from(new Uint8Array(e)))}const _e=()=>[{Constructor:Uint8Array,targetType:new Uint8Array([2]),serialize(r){return r.target}},{Constructor:"number",targetType:new Uint8Array([4]),serialize(r){return xt(r.target)}},{Constructor:"boolean",targetType:new Uint8Array([5]),serialize(r){return new Uint8Array([r.target?1:0])}},{Constructor:"undefined",targetType:new Uint8Array([6]),serialize(){return new Uint8Array(0)}},{filter(r){return r===null},targetType:new Uint8Array([7]),serialize(){return new Uint8Array(0)}}],gt=()=>{const r=new TextEncoder,e=t=>{const{keyBytes:n,valueType:i,value:a}=t,o=Pe(W(a));return[new Uint8Array([n.length,i.length,o.length]),n,i,o,a]};return[{Constructor:Object,targetType:new Uint8Array([0]),serialize(t){const n=[];for(const i in t.target){const a=r.encode(i),o=t.target[i],d=t.serializer.filterPlugin(o),m=d.targetType;if(!m)throw new Error("Unknown value type");const I=d.serialize({target:o,serializer:t.serializer})??new Uint8Array(0);n.push(e({keyBytes:a,valueType:m,value:I}))}return n}},{Constructor:Array,targetType:new Uint8Array([1]),serialize(t){const n={...t.target,l:t.target.length};return t.serializer.filterPlugin(n).serialize({target:n,serializer:t.serializer})}},{Constructor:"string",targetType:new Uint8Array([3]),serialize(t){return r.encode(t.target)}},..._e()]},ht=()=>{const r=new TextEncoder,e=t=>{const{keyBytes:n,valueType:i,value:a}=t,o=Pe(W(a));return[new Uint8Array([n.length,i.length,o.length]),n,i,o,a]};return[{Constructor:Object,targetType:new Uint8Array([0]),async serialize(t){const n=[];for(const i in t.target){const a=r.encode(i),o=t.target[i],d=t.serializer.filterPlugin(o),m=d.targetType;if(!m)throw new Error("Unknown value type");const I=await d.serialize({target:o,serializer:t.serializer})??new Uint8Array(0);n.push(e({keyBytes:a,valueType:m,value:I}))}return n}},{Constructor:Array,targetType:new Uint8Array([1]),async serialize(t){const n={...t.target,l:t.target.length};return await t.serializer.serialize(n)}},{Constructor:"string",targetType:new Uint8Array([3]),serialize(t){return r.encode(t.target)}},..._e()]};var le,ee;class yt{constructor(e){Oe(this,le,[]),Oe(this,ee,new Map),ot(this,"serialize"),(e==null?void 0:e.sync)===!0?(gt().forEach(t=>{this.registerPlugin(t)}),this.serialize=t=>{const n=this.filterPlugin(t);if(!n)throw new Error("Unknown value type");const i=n.serialize({target:t,serializer:this});return i instanceof Uint8Array?i:Ie(i.flat(1/0),W(i))}):(ht().forEach(t=>{this.registerPlugin(t)}),this.serialize=async t=>{const n=this.filterPlugin(t);if(!n)throw new Error("Unknown value type");const i=n.serialize({target:t,serializer:this}),a=i instanceof Promise?await i:i;return a instanceof Uint8Array?a:Ie(a.flat(1/0),W(a))})}filterPlugin(e){if(Q(this,ee).has(e instanceof Object?e.constructor:typeof e))return Q(this,ee).get(e instanceof Object?e.constructor:typeof e);for(const t of Q(this,le))if(t.filter(e))return t}registerPlugin(e){e.Constructor&&Q(this,ee).set(e.Constructor,e),e.filter&&Q(this,le).unshift(e)}}le=new WeakMap,ee=new WeakMap;const dt=()=>{const r=new Uint8Array([192]),e=new Uint8Array([212,0,0]);return[{filter:t=>t===null,targetType:new Uint8Array(0),serialize:t=>r},{Constructor:"undefined",targetType:new Uint8Array(0),serialize:t=>e}]},wt=()=>{const r=new TextEncoder;return{Constructor:"string",targetType:new Uint8Array(0),serialize:e=>{const t=r.encode(e.target),n=t.length<32?1:t.length<256?2:t.length<65536?3:5,i=new Uint8Array(n);let a=0;return t.length<32?i[a++]=t.length+160:t.length<256?(i[a++]=217,i[a++]=t.length):t.length<65536?(i[a++]=218,i[a++]=t.length>>8,i[a++]=t.length&255):(i[a++]=219,i[a++]=t.length>>24,i[a++]=t.length>>16&255,i[a++]=t.length>>8&255,i[a++]=t.length&255),[i,t]}}},pt=()=>{const r=new DataView(new ArrayBuffer(4)),e=t=>(r.setFloat32(0,t),r.getFloat32(0)===t);return{Constructor:"number",targetType:new Uint8Array(0),serialize:t=>{const n=t.target,i=new Uint8Array(9),a=new DataView(i.buffer);let o=0;return n>>>0===n?n<32?i[o++]=n:n<256?(i[o++]=204,i[o++]=n):n<65536?(i[o++]=205,i[o++]=n>>8,i[o++]=n&255):(i[o++]=206,a.setUint32(o,n),o+=4):n>>0===n?n>=-32?i[o++]=256+n:n>=-128?(i[o++]=208,i[o++]=n+256):n>=-32768?(i[o++]=209,a.setInt16(o,n),o+=2):(i[o++]=210,a.setInt32(o,n),o+=4):e(n)?(i[o++]=202,a.setFloat32(o,n),o+=4):(i[o++]=203,a.setFloat64(o,n),o+=8),i.subarray(0,o)}}},bt=()=>{const r=[new Uint8Array([194]),new Uint8Array([195])];return{Constructor:"boolean",targetType:new Uint8Array(0),serialize:e=>e.target?r[1]:r[0]}},St=()=>({Constructor:Array,targetType:new Uint8Array(0),serialize:r=>{const e=[],t=r.target.length;if(t<16)e.push(new Uint8Array([144+t]));else if(t<256){const n=new Uint8Array(3);n[0]=220,n[1]=t>>8,n[2]=t&255,e.push(n)}else if(t<65536){const n=new Uint8Array(5);n[0]=221,n[1]=t>>24,n[2]=t>>16&255,n[3]=t>>8&255,n[4]=t&255,e.push(n)}else throw new Error("Array length is too long");for(const n of r.target)e.push(r.serializer.filterPlugin(n).serialize({target:n,serializer:r.serializer}));return e}}),Ut=()=>({Constructor:Object,targetType:new Uint8Array(0),serialize:r=>{const e=[],t=Object.keys(r.target).length;t<16?e.push(new Uint8Array([128+t])):t<65535?e.push(new Uint8Array([222,t>>8,t&255])):e.push(new Uint8Array([223,t>>24,t>>16&255,t>>8&255,t&255]));for(const n in r.target){const i=r.target[n],a=r.serializer.filterPlugin(n).serialize({target:n,serializer:r.serializer}),o=r.serializer.filterPlugin(i).serialize({target:i,serializer:r.serializer});e.push(a),e.push(o)}return e}}),mt=()=>({Constructor:Uint8Array,targetType:new Uint8Array(0),serialize:r=>{const e=r.target.length,t=new Uint8Array(e<256?2:e<65536?3:5);return e<256?(t[0]=196,t[1]=e):e<65536?(t[0]=197,t[1]=e>>8&255,t[2]=e&255):(t[0]=198,t[1]=e>>24&255,t[2]=e>>16&255,t[3]=e>>8&255,t[4]=e&255),[t,r.target]}}),At=()=>[dt(),wt(),pt(),bt(),St(),Ut(),mt()].flat();var ye;try{ye=new TextDecoder}catch{}var g,F,s=0,B={},S,K,D=0,v=0,_,J,V=[],b,Me={useRecords:!1,mapsAsObjects:!0};class Ce{}const Re=new Ce;Re.name="MessagePack 0xC1";var q=!1,Ve=2,kt;try{new Function("")}catch{Ve=1/0}class te{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.sequential&&e.trusted!==!1&&(e.trusted=!0,!e.structures&&e.useRecords!=!1&&(e.structures=[],e.maxSharedStructures||(e.maxSharedStructures=0))),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0),e.int64AsNumber&&(e.int64AsType="number")),Object.assign(this,e)}unpack(e,t){if(g)return Ge(()=>(Se(),this?this.unpack(e,t):te.prototype.unpack.call(Me,e,t)));!e.buffer&&e.constructor===ArrayBuffer&&(e=typeof Buffer<"u"?Buffer.from(e):new Uint8Array(e)),typeof t=="object"?(F=t.end||e.length,s=t.start||0):(s=0,F=t>-1?t:e.length),v=0,K=null,_=null,g=e;try{b=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(n){throw g=null,e instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof te){if(B=this,this.structures)return S=this.structures,fe(t);(!S||S.length>0)&&(S=[])}else B=Me,(!S||S.length>0)&&(S=[]);return fe(t)}unpackMultiple(e,t){let n,i=0;try{q=!0;let a=e.length,o=this?this.unpack(e,a):ae.unpack(e,a);if(t){if(t(o,i,s)===!1)return;for(;s<a;)if(i=s,t(fe(),i,s)===!1)return}else{for(n=[o];s<a;)i=s,n.push(fe());return n}}catch(a){throw a.lastPosition=i,a.values=n,a}finally{q=!1,Se()}}_mergeStructures(e,t){e=e||[],Object.isFrozen(e)&&(e=e.map(n=>n.slice(0)));for(let n=0,i=e.length;n<i;n++){let a=e[n];a&&(a.isShared=!0,n>=32&&(a.highByte=n-32>>5))}e.sharedLength=e.length;for(let n in t||[])if(n>=0){let i=e[n],a=t[n];a&&(i&&((e.restoreStructures||(e.restoreStructures=[]))[n]=i),e[n]=a)}return this.structures=e}decode(e,t){return this.unpack(e,t)}}function fe(r){try{if(!B.trusted&&!q){let t=S.sharedLength||0;t<S.length&&(S.length=t)}let e;if(B.randomAccessStructure&&g[s]<64&&g[s]>=32&&kt||(e=O()),_&&(s=_.postBundlePosition,_=null),q&&(S.restoreStructures=null),s==F)S&&S.restoreStructures&&je(),S=null,g=null,J&&(J=null);else{if(s>F)throw new Error("Unexpected end of MessagePack data");if(!q){let t;try{t=JSON.stringify(e,(n,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(n){t="(JSON view not available "+n+")"}throw new Error("Data read, but end of buffer not reached "+t)}}return e}catch(e){throw S&&S.restoreStructures&&je(),Se(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer")||s>F)&&(e.incomplete=!0),e}}function je(){for(let r in S.restoreStructures)S[r]=S.restoreStructures[r];S.restoreStructures=null}function O(){let r=g[s++];if(r<160)if(r<128){if(r<64)return r;{let e=S[r&63]||B.getStructures&&Le()[r&63];return e?(e.read||(e.read=de(e,r&63)),e.read()):r}}else if(r<144)if(r-=128,B.mapsAsObjects){let e={};for(let t=0;t<r;t++){let n=Ke();n==="__proto__"&&(n="__proto_"),e[n]=O()}return e}else{let e=new Map;for(let t=0;t<r;t++)e.set(O(),O());return e}else{r-=144;let e=new Array(r);for(let t=0;t<r;t++)e[t]=O();return B.freezeData?Object.freeze(e):e}else if(r<192){let e=r-160;if(v>=s)return K.slice(s-D,(s+=e)-D);if(v==0&&F<140){let t=e<16?pe(e):ve(e);if(t!=null)return t}return we(e)}else{let e;switch(r){case 192:return null;case 193:return _?(e=O(),e>0?_[1].slice(_.position1,_.position1+=e):_[0].slice(_.position0,_.position0-=e)):Re;case 194:return!1;case 195:return!0;case 196:if(e=g[s++],e===void 0)throw new Error("Unexpected end of buffer");return be(e);case 197:return e=b.getUint16(s),s+=2,be(e);case 198:return e=b.getUint32(s),s+=4,be(e);case 199:return G(g[s++]);case 200:return e=b.getUint16(s),s+=2,G(e);case 201:return e=b.getUint32(s),s+=4,G(e);case 202:if(e=b.getFloat32(s),B.useFloat32>2){let t=Ue[(g[s]&127)<<1|g[s+1]>>7];return s+=4,(t*e+(e>0?.5:-.5)>>0)/t}return s+=4,e;case 203:return e=b.getFloat64(s),s+=8,e;case 204:return g[s++];case 205:return e=b.getUint16(s),s+=2,e;case 206:return e=b.getUint32(s),s+=4,e;case 207:return B.int64AsType==="number"?(e=b.getUint32(s)*4294967296,e+=b.getUint32(s+4)):B.int64AsType==="string"?e=b.getBigUint64(s).toString():B.int64AsType==="auto"?(e=b.getBigUint64(s),e<=BigInt(2)<<BigInt(52)&&(e=Number(e))):e=b.getBigUint64(s),s+=8,e;case 208:return b.getInt8(s++);case 209:return e=b.getInt16(s),s+=2,e;case 210:return e=b.getInt32(s),s+=4,e;case 211:return B.int64AsType==="number"?(e=b.getInt32(s)*4294967296,e+=b.getUint32(s+4)):B.int64AsType==="string"?e=b.getBigInt64(s).toString():B.int64AsType==="auto"?(e=b.getBigInt64(s),e>=BigInt(-2)<<BigInt(52)&&e<=BigInt(2)<<BigInt(52)&&(e=Number(e))):e=b.getBigInt64(s),s+=8,e;case 212:if(e=g[s++],e==114)return Ze(g[s++]&63);{let t=V[e];if(t)return t.read?(s++,t.read(O())):t.noBuffer?(s++,t()):t(g.subarray(s,++s));throw new Error("Unknown extension "+e)}case 213:return e=g[s],e==114?(s++,Ze(g[s++]&63,g[s++])):G(2);case 214:return G(4);case 215:return G(8);case 216:return G(16);case 217:return e=g[s++],v>=s?K.slice(s-D,(s+=e)-D):Tt(e);case 218:return e=b.getUint16(s),s+=2,v>=s?K.slice(s-D,(s+=e)-D):zt(e);case 219:return e=b.getUint32(s),s+=4,v>=s?K.slice(s-D,(s+=e)-D):Et(e);case 220:return e=b.getUint16(s),s+=2,Ne(e);case 221:return e=b.getUint32(s),s+=4,Ne(e);case 222:return e=b.getUint16(s),s+=2,Fe(e);case 223:return e=b.getUint32(s),s+=4,Fe(e);default:if(r>=224)return r-256;if(r===void 0){let t=new Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}throw new Error("Unknown MessagePack token "+r)}}}const Bt=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function de(r,e){function t(){if(t.count++>Ve){let i=r.read=new Function("r","return function(){return "+(B.freezeData?"Object.freeze":"")+"({"+r.map(a=>a==="__proto__"?"__proto_:r()":Bt.test(a)?a+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"})}")(O);return r.highByte===0&&(r.read=De(e,r.read)),i()}let n={};for(let i=0,a=r.length;i<a;i++){let o=r[i];o==="__proto__"&&(o="__proto_"),n[o]=O()}return B.freezeData?Object.freeze(n):n}return t.count=0,r.highByte===0?De(e,t):t}const De=(r,e)=>function(){let t=g[s++];if(t===0)return e();let n=r<32?-(r+(t<<5)):r+(t<<5),i=S[n]||Le()[n];if(!i)throw new Error("Record id is not defined for "+n);return i.read||(i.read=de(i,r)),i.read()};function Le(){let r=Ge(()=>(g=null,B.getStructures()));return S=B._mergeStructures(r,S)}var we=re,Tt=re,zt=re,Et=re;function re(r){let e;if(r<16&&(e=pe(r)))return e;if(r>64&&ye)return ye.decode(g.subarray(s,s+=r));const t=s+r,n=[];for(e="";s<t;){const i=g[s++];if((i&128)===0)n.push(i);else if((i&224)===192){const a=g[s++]&63;n.push((i&31)<<6|a)}else if((i&240)===224){const a=g[s++]&63,o=g[s++]&63;n.push((i&31)<<12|a<<6|o)}else if((i&248)===240){const a=g[s++]&63,o=g[s++]&63,d=g[s++]&63;let m=(i&7)<<18|a<<12|o<<6|d;m>65535&&(m-=65536,n.push(m>>>10&1023|55296),m=56320|m&1023),n.push(m)}else n.push(i);n.length>=4096&&(e+=M.apply(String,n),n.length=0)}return n.length>0&&(e+=M.apply(String,n)),e}function Ne(r){let e=new Array(r);for(let t=0;t<r;t++)e[t]=O();return B.freezeData?Object.freeze(e):e}function Fe(r){if(B.mapsAsObjects){let e={};for(let t=0;t<r;t++){let n=Ke();n==="__proto__"&&(n="__proto_"),e[n]=O()}return e}else{let e=new Map;for(let t=0;t<r;t++)e.set(O(),O());return e}}var M=String.fromCharCode;function ve(r){let e=s,t=new Array(r);for(let n=0;n<r;n++){const i=g[s++];if((i&128)>0){s=e;return}t[n]=i}return M.apply(String,t)}function pe(r){if(r<4)if(r<2){if(r===0)return"";{let e=g[s++];if((e&128)>1){s-=1;return}return M(e)}}else{let e=g[s++],t=g[s++];if((e&128)>0||(t&128)>0){s-=2;return}if(r<3)return M(e,t);let n=g[s++];if((n&128)>0){s-=3;return}return M(e,t,n)}else{let e=g[s++],t=g[s++],n=g[s++],i=g[s++];if((e&128)>0||(t&128)>0||(n&128)>0||(i&128)>0){s-=4;return}if(r<6){if(r===4)return M(e,t,n,i);{let a=g[s++];if((a&128)>0){s-=5;return}return M(e,t,n,i,a)}}else if(r<8){let a=g[s++],o=g[s++];if((a&128)>0||(o&128)>0){s-=6;return}if(r<7)return M(e,t,n,i,a,o);let d=g[s++];if((d&128)>0){s-=7;return}return M(e,t,n,i,a,o,d)}else{let a=g[s++],o=g[s++],d=g[s++],m=g[s++];if((a&128)>0||(o&128)>0||(d&128)>0||(m&128)>0){s-=8;return}if(r<10){if(r===8)return M(e,t,n,i,a,o,d,m);{let I=g[s++];if((I&128)>0){s-=9;return}return M(e,t,n,i,a,o,d,m,I)}}else if(r<12){let I=g[s++],P=g[s++];if((I&128)>0||(P&128)>0){s-=10;return}if(r<11)return M(e,t,n,i,a,o,d,m,I,P);let C=g[s++];if((C&128)>0){s-=11;return}return M(e,t,n,i,a,o,d,m,I,P,C)}else{let I=g[s++],P=g[s++],C=g[s++],N=g[s++];if((I&128)>0||(P&128)>0||(C&128)>0||(N&128)>0){s-=12;return}if(r<14){if(r===12)return M(e,t,n,i,a,o,d,m,I,P,C,N);{let j=g[s++];if((j&128)>0){s-=13;return}return M(e,t,n,i,a,o,d,m,I,P,C,N,j)}}else{let j=g[s++],Y=g[s++];if((j&128)>0||(Y&128)>0){s-=14;return}if(r<15)return M(e,t,n,i,a,o,d,m,I,P,C,N,j,Y);let L=g[s++];if((L&128)>0){s-=15;return}return M(e,t,n,i,a,o,d,m,I,P,C,N,j,Y,L)}}}}}function $e(){let r=g[s++],e;if(r<192)e=r-160;else switch(r){case 217:e=g[s++];break;case 218:e=b.getUint16(s),s+=2;break;case 219:e=b.getUint32(s),s+=4;break;default:throw new Error("Expected string")}return re(e)}function be(r){return B.copyBuffers?Uint8Array.prototype.slice.call(g,s,s+=r):g.subarray(s,s+=r)}function G(r){let e=g[s++];if(V[e]){let t;return V[e](g.subarray(s,t=s+=r),n=>{s=n;try{return O()}finally{s=t}})}else throw new Error("Unknown extension type "+e)}var Je=new Array(4096);function Ke(){let r=g[s++];if(r>=160&&r<192){if(r=r-160,v>=s)return K.slice(s-D,(s+=r)-D);if(!(v==0&&F<180))return we(r)}else return s--,qe(O());let e=(r<<5^(r>1?b.getUint16(s):r>0?g[s]:0))&4095,t=Je[e],n=s,i=s+r-3,a,o=0;if(t&&t.bytes==r){for(;n<i;){if(a=b.getUint32(n),a!=t[o++]){n=1879048192;break}n+=4}for(i+=3;n<i;)if(a=g[n++],a!=t[o++]){n=1879048192;break}if(n===i)return s=n,t.string;i-=3,n=s}for(t=[],Je[e]=t,t.bytes=r;n<i;)a=b.getUint32(n),t.push(a),n+=4;for(i+=3;n<i;)a=g[n++],t.push(a);let d=r<16?pe(r):ve(r);return d!=null?t.string=d:t.string=we(r)}function qe(r){if(typeof r=="string")return r;if(typeof r=="number"||typeof r=="boolean"||typeof r=="bigint")return r.toString();if(r==null)return r+"";if(B.allowArraysInMapKeys&&Array.isArray(r)&&r.flat().every(e=>["string","number","boolean","bigint"].includes(typeof e)))return r.flat().toString();throw new Error(`Invalid property type for record: ${typeof r}`)}const Ze=(r,e)=>{let t=O().map(qe),n=r;e!==void 0&&(r=r<32?-((e<<5)+r):(e<<5)+r,t.highByte=e);let i=S[r];return i&&(i.isShared||q)&&((S.restoreStructures||(S.restoreStructures=[]))[r]=i),S[r]=t,t.read=de(t,n),t.read()};V[0]=()=>{},V[0].noBuffer=!0,V[66]=r=>{let e=r.length,t=BigInt(r[0]&128?r[0]-256:r[0]);for(let n=1;n<e;n++)t<<=BigInt(8),t+=BigInt(r[n]);return t};let Ot={Error,TypeError,ReferenceError};V[101]=()=>{let r=O();return(Ot[r[0]]||Error)(r[1],{cause:r[2]})},V[105]=r=>{if(B.structuredClone===!1)throw new Error("Structured clone extension is disabled");let e=b.getUint32(s-4);J||(J=new Map);let t=g[s],n;t>=144&&t<160||t==220||t==221?n=[]:t>=128&&t<144||t==222||t==223?n=new Map:(t>=199&&t<=201||t>=212&&t<=216)&&g[s+1]===115?n=new Set:n={};let i={target:n};J.set(e,i);let a=O();if(i.used)Object.assign(n,a);else return i.target=a;if(n instanceof Map)for(let[o,d]of a.entries())n.set(o,d);if(n instanceof Set)for(let o of Array.from(a))n.add(o);return n},V[112]=r=>{if(B.structuredClone===!1)throw new Error("Structured clone extension is disabled");let e=b.getUint32(s-4),t=J.get(e);return t.used=!0,t.target},V[115]=()=>new Set(O());const Xe=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(r=>r+"Array");let It=typeof globalThis=="object"?globalThis:window;V[116]=r=>{let e=r[0],t=Uint8Array.prototype.slice.call(r,1).buffer,n=Xe[e];if(!n){if(e===16)return t;if(e===17)return new DataView(t);throw new Error("Could not find typed array for code "+e)}return new It[n](t)},V[120]=()=>{let r=O();return new RegExp(r[0],r[1])};const Pt=[];V[98]=r=>{let e=(r[0]<<24)+(r[1]<<16)+(r[2]<<8)+r[3],t=s;return s+=e-r.length,_=Pt,_=[$e(),$e()],_.position0=0,_.position1=0,_.postBundlePosition=s,s=t,O()},V[255]=r=>r.length==4?new Date((r[0]*16777216+(r[1]<<16)+(r[2]<<8)+r[3])*1e3):r.length==8?new Date(((r[0]<<22)+(r[1]<<14)+(r[2]<<6)+(r[3]>>2))/1e6+((r[3]&3)*4294967296+r[4]*16777216+(r[5]<<16)+(r[6]<<8)+r[7])*1e3):r.length==12?new Date(((r[0]<<24)+(r[1]<<16)+(r[2]<<8)+r[3])/1e6+((r[4]&128?-281474976710656:0)+r[6]*1099511627776+r[7]*4294967296+r[8]*16777216+(r[9]<<16)+(r[10]<<8)+r[11])*1e3):new Date("invalid");function Ge(r){let e=F,t=s,n=D,i=v,a=K,o=J,d=_,m=new Uint8Array(g.slice(0,F)),I=S,P=S.slice(0,S.length),C=B,N=q,j=r();return F=e,s=t,D=n,v=i,K=a,J=o,_=d,g=m,q=N,S=I,S.splice(0,S.length,...P),B=C,b=new DataView(g.buffer,g.byteOffset,g.byteLength),j}function Se(){g=null,J=null,S=null}const Ue=new Array(147);for(let r=0;r<256;r++)Ue[r]=+("1e"+Math.floor(45.15-r*.30103));var ae=new te({useRecords:!1});const _t=ae.unpack;ae.unpackMultiple,ae.unpack;let Mt=new Float32Array(1);new Uint8Array(Mt.buffer,0,4);let ue;try{ue=new TextEncoder}catch{}let me,Ye;const ne=typeof Buffer<"u",oe=ne?function(r){return Buffer.allocUnsafeSlow(r)}:Uint8Array,He=ne?Buffer:Uint8Array,Qe=ne?4294967296:2144337920;let f,ie,T,l=0,R,z=null,Ct;const Rt=21760,Vt=/[\u0080-\uFFFF]/,H=Symbol("record-id");class jt extends te{constructor(e){super(e),this.offset=0;let t,n,i,a,o=He.prototype.utf8Write?function(u,y){return f.utf8Write(u,y,f.byteLength-y)}:ue&&ue.encodeInto?function(u,y){return ue.encodeInto(u,f.subarray(y)).written}:!1,d=this;e||(e={});let m=e&&e.sequential,I=e.structures||e.saveStructures,P=e.maxSharedStructures;if(P==null&&(P=I?32:0),P>8160)throw new Error("Maximum maxSharedStructure is 8160");e.structuredClone&&e.moreTypes==null&&(this.moreTypes=!0);let C=e.maxOwnStructures;C==null&&(C=I?32:64),!this.structures&&e.useRecords!=!1&&(this.structures=[]);let N=P>32||C+P>64,j=P+64,Y=P+C+64;if(Y>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let L=[],Be=0,xe=0;this.pack=this.encode=function(u,y){if(f||(f=new oe(8192),T=f.dataView||(f.dataView=new DataView(f.buffer,0,8192)),l=0),R=f.length-10,R-l<2048?(f=new oe(f.length),T=f.dataView||(f.dataView=new DataView(f.buffer,0,f.length)),R=f.length-10,l=0):l=l+7&2147483640,t=l,y&$t&&(l+=y&255),a=d.structuredClone?new Map:null,d.bundleStrings&&typeof u!="string"?(z=[],z.size=1/0):z=null,i=d.structures,i){i.uninitialized&&(i=d._mergeStructures(d.getStructures()));let c=i.sharedLength||0;if(c>P)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let h=0;h<c;h++){let w=i[h];if(!w)continue;let U,p=i.transitions;for(let A=0,k=w.length;A<k;A++){let $=w[A];U=p[$],U||(U=p[$]=Object.create(null)),p=U}p[H]=h+64}this.lastNamedStructuresLength=c}m||(i.nextId=c+64)}n&&(n=!1);let x;try{d.randomAccessStructure&&u&&u.constructor&&u.constructor===Object?qt(u):E(u);let c=z;if(z&&We(t,E,0),a&&a.idsToInsert){let h=a.idsToInsert.sort((A,k)=>A.offset>k.offset?1:-1),w=h.length,U=-1;for(;c&&w>0;){let A=h[--w].offset+t;A<c.stringsPosition+t&&U===-1&&(U=0),A>c.position+t?U>=0&&(U+=6):(U>=0&&(T.setUint32(c.position+t,T.getUint32(c.position+t)+U),U=-1),c=c.previous,w++)}U>=0&&c&&T.setUint32(c.position+t,T.getUint32(c.position+t)+U),l+=h.length*6,l>R&&Z(l),d.offset=l;let p=Lt(f.subarray(t,l),h);return a=null,p}return d.offset=l,y&Ft?(f.start=t,f.end=l,f):f.subarray(t,l)}catch(c){throw x=c,c}finally{if(i&&(nt(),n&&d.saveStructures)){let c=i.sharedLength||0,h=f.subarray(t,l),w=Nt(i,d);if(!x)return d.saveStructures(w,w.isCompatible)===!1?d.pack(u,y):(d.lastNamedStructuresLength=c,f.length>1073741824&&(f=null),h)}f.length>1073741824&&(f=null),y&vt&&(l=t)}};const nt=()=>{xe<10&&xe++;let u=i.sharedLength||0;if(i.length>u&&!m&&(i.length=u),Be>1e4)i.transitions=null,xe=0,Be=0,L.length>0&&(L=[]);else if(L.length>0&&!m){for(let y=0,x=L.length;y<x;y++)L[y][H]=0;L=[]}},Te=u=>{var y=u.length;y<16?f[l++]=144|y:y<65536?(f[l++]=220,f[l++]=y>>8,f[l++]=y&255):(f[l++]=221,T.setUint32(l,y),l+=4);for(let x=0;x<y;x++)E(u[x])},E=u=>{l>R&&(f=Z(l));var y=typeof u,x;if(y==="string"){let c=u.length;if(z&&c>=4&&c<4096){if((z.size+=c)>Rt){let p,A=(z[0]?z[0].length*3+z[1].length:0)+10;l+A>R&&(f=Z(l+A));let k;z.position?(k=z,f[l]=200,l+=3,f[l++]=98,p=l-t,l+=4,We(t,E,0),T.setUint16(p+t-3,l-t-p)):(f[l++]=214,f[l++]=98,p=l-t,l+=4),z=["",""],z.previous=k,z.size=0,z.position=p}let U=Vt.test(u);z[U?0:1]+=u,f[l++]=193,E(U?-c:c);return}let h;c<32?h=1:c<256?h=2:c<65536?h=3:h=5;let w=c*3;if(l+w>R&&(f=Z(l+w)),c<64||!o){let U,p,A,k=l+h;for(U=0;U<c;U++)p=u.charCodeAt(U),p<128?f[k++]=p:p<2048?(f[k++]=p>>6|192,f[k++]=p&63|128):(p&64512)===55296&&((A=u.charCodeAt(U+1))&64512)===56320?(p=65536+((p&1023)<<10)+(A&1023),U++,f[k++]=p>>18|240,f[k++]=p>>12&63|128,f[k++]=p>>6&63|128,f[k++]=p&63|128):(f[k++]=p>>12|224,f[k++]=p>>6&63|128,f[k++]=p&63|128);x=k-l-h}else x=o(u,l+h);x<32?f[l++]=160|x:x<256?(h<2&&f.copyWithin(l+2,l+1,l+1+x),f[l++]=217,f[l++]=x):x<65536?(h<3&&f.copyWithin(l+3,l+2,l+2+x),f[l++]=218,f[l++]=x>>8,f[l++]=x&255):(h<5&&f.copyWithin(l+5,l+3,l+3+x),f[l++]=219,T.setUint32(l,x),l+=4),l+=x}else if(y==="number")if(u>>>0===u)u<32||u<128&&this.useRecords===!1||u<64&&!this.randomAccessStructure?f[l++]=u:u<256?(f[l++]=204,f[l++]=u):u<65536?(f[l++]=205,f[l++]=u>>8,f[l++]=u&255):(f[l++]=206,T.setUint32(l,u),l+=4);else if(u>>0===u)u>=-32?f[l++]=256+u:u>=-128?(f[l++]=208,f[l++]=u+256):u>=-32768?(f[l++]=209,T.setInt16(l,u),l+=2):(f[l++]=210,T.setInt32(l,u),l+=4);else{let c;if((c=this.useFloat32)>0&&u<4294967296&&u>=-2147483648){f[l++]=202,T.setFloat32(l,u);let h;if(c<4||(h=u*Ue[(f[l]&127)<<1|f[l+1]>>7])>>0===h){l+=4;return}else l--}f[l++]=203,T.setFloat64(l,u),l+=8}else if(y==="object"||y==="function")if(!u)f[l++]=192;else{if(a){let h=a.get(u);if(h){if(!h.id){let w=a.idsToInsert||(a.idsToInsert=[]);h.id=w.push(h)}f[l++]=214,f[l++]=112,T.setUint32(l,h.id),l+=4;return}else a.set(u,{offset:l-t})}let c=u.constructor;if(c===Object)ge(u);else if(c===Array)Te(u);else if(c===Map)if(this.mapAsEmptyObject)f[l++]=128;else{x=u.size,x<16?f[l++]=128|x:x<65536?(f[l++]=222,f[l++]=x>>8,f[l++]=x&255):(f[l++]=223,T.setUint32(l,x),l+=4);for(let[h,w]of u)E(h),E(w)}else{for(let h=0,w=me.length;h<w;h++){let U=Ye[h];if(u instanceof U){let p=me[h];if(p.write){p.type&&(f[l++]=212,f[l++]=p.type,f[l++]=0);let se=p.write.call(this,u);se===u?Array.isArray(u)?Te(u):ge(u):E(se);return}let A=f,k=T,$=l;f=null;let X;try{X=p.pack.call(this,u,se=>(f=A,A=null,l+=se,l>R&&Z(l),{target:f,targetView:T,position:l-se}),E)}finally{A&&(f=A,T=k,l=$,R=f.length-10)}X&&(X.length+l>R&&Z(X.length+l),l=Dt(X,f,l,p.type));return}}if(Array.isArray(u))Te(u);else{if(u.toJSON){const h=u.toJSON();if(h!==u)return E(h)}if(y==="function")return E(this.writeFunction&&this.writeFunction(u));ge(u)}}}else if(y==="boolean")f[l++]=u?195:194;else if(y==="bigint"){if(u<9223372036854776e3&&u>=-9223372036854776e3)f[l++]=211,T.setBigInt64(l,u);else if(u<18446744073709552e3&&u>0)f[l++]=207,T.setBigUint64(l,u);else if(this.largeBigIntToFloat)f[l++]=203,T.setFloat64(l,Number(u));else{if(this.largeBigIntToString)return E(u.toString());if((this.useBigIntExtension||this.moreTypes)&&u<BigInt(2)**BigInt(1023)&&u>-(BigInt(2)**BigInt(1023))){f[l++]=199,l++,f[l++]=66;let c=[],h;do{let w=u&BigInt(255);h=(w&BigInt(128))===(u<BigInt(0)?BigInt(128):BigInt(0)),c.push(w),u>>=BigInt(8)}while(!((u===BigInt(0)||u===BigInt(-1))&&h));f[l-2]=c.length;for(let w=c.length;w>0;)f[l++]=Number(c[--w]);return}else throw new RangeError(u+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string")}l+=8}else if(y==="undefined")this.encodeUndefinedAsNil?f[l++]=192:(f[l++]=212,f[l++]=0,f[l++]=0);else throw new Error("Unknown type: "+y)},it=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?u=>{let y;if(this.skipValues){y=[];for(let h in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(h))&&!this.skipValues.includes(u[h])&&y.push(h)}else y=Object.keys(u);let x=y.length;x<16?f[l++]=128|x:x<65536?(f[l++]=222,f[l++]=x>>8,f[l++]=x&255):(f[l++]=223,T.setUint32(l,x),l+=4);let c;if(this.coercibleKeyAsNumber)for(let h=0;h<x;h++){c=y[h];let w=Number(c);E(isNaN(w)?c:w),E(u[c])}else for(let h=0;h<x;h++)E(c=y[h]),E(u[c])}:u=>{f[l++]=222;let y=l-t;l+=2;let x=0;for(let c in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(c))&&(E(c),E(u[c]),x++);if(x>65535)throw new Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object');f[y+++t]=x>>8,f[y+t]=x&255},st=this.useRecords===!1?it:e.progressiveRecords&&!N?u=>{let y,x=i.transitions||(i.transitions=Object.create(null)),c=l++-t,h;for(let w in u)if(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(w)){if(y=x[w],y)x=y;else{let U=Object.keys(u),p=x;x=i.transitions;let A=0;for(let k=0,$=U.length;k<$;k++){let X=U[k];y=x[X],y||(y=x[X]=Object.create(null),A++),x=y}c+t+1==l?(l--,ze(x,U,A)):ft(x,U,c,A),h=!0,x=p[w]}E(u[w])}if(!h){let w=x[H];w?f[c+t]=w:ft(x,Object.keys(u),c,0)}}:u=>{let y,x=i.transitions||(i.transitions=Object.create(null)),c=0;for(let w in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(w))&&(y=x[w],y||(y=x[w]=Object.create(null),c++),x=y);let h=x[H];h?h>=96&&N?(f[l++]=((h-=96)&31)+96,f[l++]=h>>5):f[l++]=h:ze(x,x.__keys__||Object.keys(u),c);for(let w in u)(typeof u.hasOwnProperty!="function"||u.hasOwnProperty(w))&&E(u[w])},lt=typeof this.useRecords=="function"&&this.useRecords,ge=lt?u=>{lt(u)?st(u):it(u)}:st,Z=u=>{let y;if(u>16777216){if(u-t>Qe)throw new Error("Packed buffer would be larger than maximum buffer size");y=Math.min(Qe,Math.round(Math.max((u-t)*(u>67108864?1.25:2),4194304)/4096)*4096)}else y=(Math.max(u-t<<2,f.length-1)>>12)+1<<12;let x=new oe(y);return T=x.dataView||(x.dataView=new DataView(x.buffer,0,y)),u=Math.min(u,f.length),f.copy?f.copy(x,0,t,u):x.set(f.slice(t,u)),l-=t,t=0,R=x.length-10,f=x},ze=(u,y,x)=>{let c=i.nextId;c||(c=64),c<j&&this.shouldShareStructure&&!this.shouldShareStructure(y)?(c=i.nextOwnId,c<Y||(c=j),i.nextOwnId=c+1):(c>=Y&&(c=j),i.nextId=c+1);let h=y.highByte=c>=96&&N?c-96>>5:-1;u[H]=c,u.__keys__=y,i[c-64]=y,c<j?(y.isShared=!0,i.sharedLength=c-63,n=!0,h>=0?(f[l++]=(c&31)+96,f[l++]=h):f[l++]=c):(h>=0?(f[l++]=213,f[l++]=114,f[l++]=(c&31)+96,f[l++]=h):(f[l++]=212,f[l++]=114,f[l++]=c),x&&(Be+=xe*x),L.length>=C&&(L.shift()[H]=0),L.push(u),E(y))},ft=(u,y,x,c)=>{let h=f,w=l,U=R,p=t;f=ie,l=0,t=0,f||(ie=f=new oe(8192)),R=f.length-10,ze(u,y,c),ie=f;let A=l;if(f=h,l=w,R=U,t=p,A>1){let k=l+A-1;k>R&&Z(k);let $=x+t;f.copyWithin($+A,$+1,l),f.set(ie.slice(0,A),$),l=k}else f[x+t]=ie[0]},qt=u=>{let y=Ct(u,f,t,l,i,Z,(x,c,h)=>{if(h)return n=!0;l=c;let w=f;return E(x),nt(),w!==f?{position:l,targetView:T,target:f}:l},this);if(y===0)return ge(u);l=y}}useBuffer(e){f=e,f.dataView||(f.dataView=new DataView(f.buffer,f.byteOffset,f.byteLength)),l=0}set position(e){l=e}get position(){return l}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}Ye=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,DataView,Ce],me=[{pack(r,e,t){let n=r.getTime()/1e3;if((this.useTimestamp32||r.getMilliseconds()===0)&&n>=0&&n<4294967296){let{target:i,targetView:a,position:o}=e(6);i[o++]=214,i[o++]=255,a.setUint32(o,n)}else if(n>0&&n<4294967296){let{target:i,targetView:a,position:o}=e(10);i[o++]=215,i[o++]=255,a.setUint32(o,r.getMilliseconds()*4e6+(n/1e3/4294967296>>0)),a.setUint32(o+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return e(0),t(this.onInvalidDate());let{target:i,targetView:a,position:o}=e(3);i[o++]=212,i[o++]=255,i[o++]=255}else{let{target:i,targetView:a,position:o}=e(15);i[o++]=199,i[o++]=12,i[o++]=255,a.setUint32(o,r.getMilliseconds()*1e6),a.setBigInt64(o+4,BigInt(Math.floor(n)))}}},{pack(r,e,t){if(this.setAsEmptyObject)return e(0),t({});let n=Array.from(r),{target:i,position:a}=e(this.moreTypes?3:0);this.moreTypes&&(i[a++]=212,i[a++]=115,i[a++]=0),t(n)}},{pack(r,e,t){let{target:n,position:i}=e(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=101,n[i++]=0),t([r.name,r.message,r.cause])}},{pack(r,e,t){let{target:n,position:i}=e(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=120,n[i++]=0),t([r.source,r.flags])}},{pack(r,e){this.moreTypes?Ae(r,16,e):ke(ne?Buffer.from(r):new Uint8Array(r),e)}},{pack(r,e){let t=r.constructor;t!==He&&this.moreTypes?Ae(r,Xe.indexOf(t.name),e):ke(r,e)}},{pack(r,e){this.moreTypes?Ae(r,17,e):ke(ne?Buffer.from(r):new Uint8Array(r),e)}},{pack(r,e){let{target:t,position:n}=e(1);t[n]=193}}];function Ae(r,e,t,n){let i=r.byteLength;if(i+1<256){var{target:a,position:o}=t(4+i);a[o++]=199,a[o++]=i+1}else if(i+1<65536){var{target:a,position:o}=t(5+i);a[o++]=200,a[o++]=i+1>>8,a[o++]=i+1&255}else{var{target:a,position:o,targetView:d}=t(7+i);a[o++]=201,d.setUint32(o,i+1),o+=4}a[o++]=116,a[o++]=e,r.buffer||(r=new Uint8Array(r)),a.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),o)}function ke(r,e){let t=r.byteLength;var n,i;if(t<256){var{target:n,position:i}=e(t+2);n[i++]=196,n[i++]=t}else if(t<65536){var{target:n,position:i}=e(t+3);n[i++]=197,n[i++]=t>>8,n[i++]=t&255}else{var{target:n,position:i,targetView:a}=e(t+5);n[i++]=198,a.setUint32(i,t),i+=4}n.set(r,i)}function Dt(r,e,t,n){let i=r.length;switch(i){case 1:e[t++]=212;break;case 2:e[t++]=213;break;case 4:e[t++]=214;break;case 8:e[t++]=215;break;case 16:e[t++]=216;break;default:i<256?(e[t++]=199,e[t++]=i):i<65536?(e[t++]=200,e[t++]=i>>8,e[t++]=i&255):(e[t++]=201,e[t++]=i>>24,e[t++]=i>>16&255,e[t++]=i>>8&255,e[t++]=i&255)}return e[t++]=n,e.set(r,t),t+=i,t}function Lt(r,e){let t,n=e.length*6,i=r.length-n;for(;t=e.pop();){let a=t.offset,o=t.id;r.copyWithin(a+n,a,i),n-=6;let d=a+n;r[d++]=214,r[d++]=105,r[d++]=o>>24,r[d++]=o>>16&255,r[d++]=o>>8&255,r[d++]=o&255,i=a}return r}function We(r,e,t){if(z.length>0){T.setUint32(z.position+r,l+t-z.position-r),z.stringsPosition=l-r;let n=z;z=null,e(n[0]),e(n[1])}}function Nt(r,e){return r.isCompatible=t=>{let n=!t||(e.lastNamedStructuresLength||0)===t.length;return n||e._mergeStructures(t),n},r}let et=new jt({useRecords:!1});et.pack,et.pack;const Ft=512,vt=1024,$t=2048,tt=new yt;At().forEach(r=>{tt.registerPlugin(r)});let ce;const Jt=new Uint8Array([112,88,33,64].reverse()),Kt=async()=>{if(ce)return ce;{const e=await(await fetch("../extractor_base.exe")).arrayBuffer();return ce=new Uint8Array(e),ce}},rt=(r,e,t)=>{t=t||{},e=e||"";for(const n in r){const i=r[n];i instanceof Uint8Array?t[e+n]=i:rt(i,`${e}${e.length===0?"./":"/"}${n}/`,t)}return t};self.onmessage=async r=>{const e=r.data,t=rt(e),n=await tt.serialize(t);console.log(_t(n));const i=await Kt(),a=await new Blob([i,Jt,n]).arrayBuffer();self.postMessage(a)}})();
